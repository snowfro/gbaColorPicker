<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self-Portrait Editor</title>
    <link rel="stylesheet" href="style.css"> 
    <!-- Consider linking to a shared base style if many styles are common -->
</head>
<body>
    <!-- Centered Header -->
    <header class="app-header">
        <h1>Self Portrait Maker</h1>
        <p><strong>ğŸ“– Please read the instructions thoroughly before getting started!</strong></p>
        
    </header>

    <!-- Instructions Drawer -->
    <div id="instructions-drawer" class="instructions-drawer">
        <div class="drawer-content">
            <div class="drawer-header">
                <h2>Create Your Sprite Self Portrait</h2>
                <button id="close-drawer-btn" class="close-drawer-btn">&times;</button>
            </div>
            <div class="drawer-body">

                <div class="instruction-section">
                    <h3>ï¼ŸWhy</h3>
                    <p>So many people have been such a huge part of my journey and I'd love to include as many of you as possible in my project! </p>
                    <ul>
                        <li>Use this tool to generate a pixel version of yourself.</li>
                        <li>Check out the examples below to get started.</li>
                        <li>Please make a two frame animation, so make sure and fill in both a and b frames.</li>
                        <li><strong>Your character will stay in place and be looking forward in the final project, so your animation can be jumping, dancing, even walking in place is fine! Have fun with it.</strong></li>
                        <li>When you're done with both frames hit the download buttons for the bitmap string and png and send both over to me.</li>
                        <li>Note I may not get to include all of the sprites that are submitted, but I'll try my best!</li>
                    </ul>
                    <p>Much love, Snowfro</p>
                </div>
                <div class="instruction-section">
                    <h3>ğŸ¨ Getting Started</h3>
                    <ol>
                        <li><strong>Select colors</strong> from the palettes below</li>
                        <li><strong>Choose your tool:</strong> Paintbrush ğŸ–Œï¸, Eraser ğŸ§¼, or Eyedropper ğŸ’§</li>
                        <li><strong>Draw on the canvas</strong> by clicking and dragging</li>
                    </ol>
                </div>
                
                <div class="instruction-section">
                    <h3>ğŸ–¼ï¸ Drawing Tips</h3>
                    <ul>
                        <li><strong>Portrait focus:</strong> Draw your full-body self-portrait <strong>touching the ground</strong></li>
                        <li><strong>Transparency:</strong> Leave background transparent (don't fill around your figure)</li>
                        <li><strong>Fill completely:</strong> Fill all pixels within your drawing (unless transparency is intentional)</li>
                        <li><strong>Grayscale:</strong> Available at the end of each palette for details</li>
                    </ul>
                </div>
                
                <div class="instruction-section">
                    <h3>ğŸ¬ Animation Features</h3>
                    <ul>
                        <li><strong>Frame A/B:</strong> Switch between two animation frames</li>
                        <li><strong>Copy Frame:</strong> Duplicate one frame to the other</li>
                        <li><strong>Preview:</strong> See your animation in action</li>
                        <li><strong>Onion Skin:</strong> See the other frame as a ghost overlay</li>
                    </ul>
                </div>
                
                <div class="instruction-section">
                    <h3>ğŸ’¾ Saving & Sharing</h3>
                    <ol>
                        <li><strong>Name your sprite:</strong> Click the pencil icon âœï¸ next to "My Sprite"</li>
                        <li><strong>Download PNG:</strong> Get a visual image file</li>
                        <li><strong>Download Bitmap:</strong> Get the game-compatible .txt file</li>
                        <li><strong>Load Bitmap:</strong> Import a previously saved .txt file</li>
                        <li><strong>Share:</strong> Send your files via email or DM</li>
                    </ol>
                </div>
                
                <div class="instruction-section">
                    <h3>âŒ¨ï¸ Pro Tips</h3>
                    <ul>
                        <li><strong>Undo:</strong> Use the â†©ï¸ button to undo mistakes</li>
                        <li><strong>Eyedropper:</strong> Sample colors from your existing drawing</li>
                        <li><strong>Used Colors:</strong> See all colors you've used in the bottom panel</li>
                        <li><strong>Color Info:</strong> Hover over palette colors to see their index numbers</li>
                    </ul>
                </div>
                
                <div class="instruction-section">
                    <h3>ğŸ¯ Examples</h3>
                    <p>Try these example sprites to get started:</p>
                    <div id="examples-container" class="examples-container">
                        <div class="examples-loading">Loading examples...</div>
                    </div>
                    <div class="examples-instructions">
                        <p><strong>How to use:</strong></p>
                        <ol>
                            <li>Click "Download" next to any example</li>
                            <li>Close this drawer</li>
                            <li>Click "Load Bitmap String" button</li>
                            <li>Select the downloaded .txt file</li>
                            <li>Start editing or use as inspiration!</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Drawer Overlay -->
    <div id="drawer-overlay" class="drawer-overlay"></div>

    <!-- First Visit Welcome Modal -->
    <div id="welcome-modal" class="welcome-modal">
        <div class="welcome-modal-content">
            <div class="welcome-header">
                <h2>ğŸ‘‹ Welcome to the Sprite Self-Portrait Maker!</h2>
            </div>
            <div class="welcome-body">
                <p><strong>First time here?</strong> Please take a moment to read the instructions thoroughly, even if you're an experienced pixel artist!</p>
                <p>This tool is part of a special project to involve the community in my next artwork, and there are specific requirements for your sprite to be included:</p>
                <ul>
                    <li>âœ¨ <strong>Two-frame animation</strong> (Frame A & B)</li>
                    <li>ğŸ¯ <strong>16Ã—32 pixel self-portrait</strong> touching the ground</li>
                    <li>ğŸ¨ <strong>Generally facing forward</li>
                    <li>ğŸ“ <strong>Make sure the title of your downloaded files makes it clear to me who you are!</li>
                </ul>
                <p>The instructions contain all the details plus helpful examples to get you started! Please read them thoroughly.</p>
            </div>
            <div class="welcome-actions">
                <button id="read-instructions-btn" class="welcome-btn primary">
                    ğŸ“– Read Instructions First
                </button>
                <button id="skip-instructions-btn" class="welcome-btn secondary">
                    Skip (I've read them before)
                </button>
            </div>
        </div>
    </div>
    <div id="welcome-overlay" class="welcome-overlay"></div>

    <div class="app-container">
        <!-- Color Selection Area - General Hue Palettes -->
        <div class="fixed-palettes-container">
            <div class="info-area">
                <h3 id="artwork-title">My Sprite <span class="edit-icon" title="Click to edit">âœï¸</span></h3>
                <div class="selected-color-details"> 
                    <p>Selected Color:</p>
                    <div id="selected-color-preview" class="color-preview-box"></div>
                    <span id="selected-color-value-15bit" class="color-value-text">0x0000</span>
                    <span id="selected-color-value-hex8bit" class="color-value-text">#000000</span>
                    <span id="selected-color-value-rgb8bit" class="color-value-text">(RGB: 0, 0, 0)</span>
                </div>
            </div>
            <div id="general-hue-palettes-display">
                <!-- The 10 general hue palettes will be generated here by script.js -->
            </div>

            <!-- Used Colors Palette - MOVED INSIDE fixed-palettes-container -->
            <div class="used-colors-palette" id="used-colors-container">
                <p class="palette-title">Colors Used:</p>
                <div id="used-colors-grid">
                    <!-- Dynamic color swatches will be inserted here -->
                </div>
            </div>

            <!-- Export Buttons - MOVED INSIDE fixed-palettes-container -->
            <div class="export-buttons-panel">
                <button id="download-png">Download PNG</button>
                <button id="download-bitmap-btn">Download Bitmap String</button> 
                <button id="upload-bitmap-btn">Load Bitmap String</button>
            </div>
            <input type="file" id="bitmap-file-input" accept=".txt" style="display: none;">
        </div>

        <!-- Drawing Area -->
        <div class="drawing-area">
            <!-- Drawing Tools - Above Canvas -->
            <div class="drawing-tools-panel">
                <button id="eyedropper-tool" class="tool-button" title="Eyedropper (Pick Color)">ğŸ’§</button>
                <button id="pencil-tool" class="tool-button active" title="Paintbrush">ğŸ–Œï¸</button>
                <button id="eraser-tool" class="tool-button" title="Eraser">ğŸ§¼</button>
                <button id="undo-button" class="tool-button" title="Undo">â†©ï¸</button>
            </div>
            <div class="canvas-and-animation-container">
                <div id="canvas-container">
                    <canvas id="pixel-canvas"></canvas>
                    <canvas id="onion-skin-canvas"></canvas>
                </div>
                <!-- Animation Controls - Right Side -->
                <div class="animation-tools-panel">
                    <button id="frame-a-btn" class="tool-button frame-button active" title="Frame A">A</button>
                    <button id="frame-b-btn" class="tool-button frame-button" title="Frame B">B</button>
                    <div class="animation-separator"></div>
                    <button id="copy-frame-btn" class="tool-button" title="Copy Other Frame to Current">ğŸ“‹</button>
                    <button id="animate-preview-btn" class="tool-button" title="Preview Animation">ğŸ¬</button>
                    <button id="onion-skin-btn" class="tool-button" title="Onion Skin Overlay">ğŸ§…</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Centered Instructions Button -->
    <div class="instructions-button-container">
        <button id="instructions-btn" class="instructions-button">
            ğŸ“– Instructions
        </button>
    </div>

    <script src="script.js"></script>
</body>
</html> 